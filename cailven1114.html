<?xml version="1.0" encoding="utf-8"?>
<div id="code">

  <section class="点击切换—渐变切换" style="line-height:0;font-size:0px;overflow: hidden;">
    <section class="点击后" style="height:0;">
      <section id="整体" style="line-height: 0; pointer-events: none; overflow: hidden;visibility: visible;overflow:hidden;">
        <section style="text-align: center; height: 0px; line-height: 0; width: 100%; margin: -1px auto 0px; visibility: visible;">
          <svg name="label" style="transform: scale(1); isolation: isolate; background-image: url(&quot;images/cailven1114/p1.png&quot;); background-size: 100%; background-repeat: no-repeat; display: inline; line-height: 0; margin-top: -1px; visibility: visible;" viewBox="0 0 750 1260" >
          </svg>
        </section>
        <section style="width: 100%; height: 160vw; vertical-align: top; overflow-y: auto; margin-top: -1px; pointer-events: visible; visibility: visible;">
          <section style="overflow: hidden; visibility: visible;">
            <section style="max-width: 100%; vertical-align: middle; visibility: visible;">
              <section style="vertical-align: middle; visibility: visible;">
                <section name="bg" style="text-align: center; height: 0px; line-height: 0; width: 100%; margin: -1px auto 0px; visibility: visible;">
                  <svg style="background-image: url(&quot;images/cailven1114/bg_01.png&quot;); background-size: 100%; background-repeat: no-repeat; display: block; visibility: visible;" viewBox="0 0 1080 2605" >
                  </svg>
                </section>
                <svg name="label" style="transform: scale(1); isolation: isolate; background-image: url(&quot;images/cailven1114/fg_01.png&quot;); background-size: 100%; background-repeat: no-repeat; display: inline; line-height: 0; margin-top: -1px; visibility: visible;" viewBox="0 0 1080 2605" >
                </svg>
                <section name="bg" style="text-align: center;height: 0;line-height: 0;width: 100%;margin: 0px auto;margin-top: -1px;">
                  <svg style="background-image: url(&quot;images/cailven1114/bg_02.png&quot;); background-size: 100%; background-repeat: no-repeat; display: block;" viewBox="0 0 1080 2312" >
                  </svg>
                </section>
                <svg name="label" style="transform: scale(1); isolation: isolate; background-image: url(&quot;images/cailven1114/fg_02.png&quot;); background-size: 100%; background-repeat: no-repeat; display: inline; line-height: 0; margin-top: -1px;" viewBox="0 0 1080 2312" >
                </svg>
                <section name="bg" style="text-align: center;height: 0;line-height: 0;width: 100%;margin: 0px auto;margin-top: -1px;">
                  <svg style="background-image: url(&quot;images/cailven1114/bg_03.png&quot;); background-size: 100%; background-repeat: no-repeat; display: block;" viewBox="0 0  1080 3080" >
                  </svg>
                </section>
                <svg name="label" style="transform: scale(1); isolation: isolate; background-image: url(&quot;images/cailven1114/fg_03.png&quot;); background-size: 100%; background-repeat: no-repeat; display: inline; line-height: 0; margin-top: -1px;" viewBox="0 0 1080 3080" >
                </svg>
                <section name="bg" style="text-align: center;height: 0;line-height: 0;width: 100%;margin: 0px auto;margin-top: -1px;">
                  <svg style="background-image: url(&quot;images/cailven1114/bg_04.png&quot;); background-size: 100%; background-repeat: no-repeat; display: block;" viewBox="0 0 1080 2559" >
                  </svg>
                </section>
                <svg name="label" style="transform: scale(1); isolation: isolate; background-image: url(&quot;images/cailven1114/fg_04.png&quot;); background-size: 100%; background-repeat: no-repeat; display: inline; line-height: 0; margin-top: -1px;" viewBox="0 0 1080 2559" >
                </svg>
                <section name="bg" style="text-align: center;height: 0;line-height: 0;width: 100%;margin: 0px auto;margin-top: -1px;">
                  <svg style="background-image: url(&quot;images/cailven1114/bg_05.png&quot;); background-size: 100%; background-repeat: no-repeat; display: block;" viewBox="0 0 1080 1713" >
                  </svg>
                </section>
                <svg name="label" style="transform: scale(1); isolation: isolate; background-image: url(&quot;images/cailven1114/bg_05.png&quot;); background-size: 100%; background-repeat: no-repeat; display: inline; line-height: 0; margin-top: -1px;" viewBox="0 0 1080 1713" >
                </svg>
    
              </section>
            </section>
          </section>
    
        </section>
    

        
      </section>
    </section>
    <section class="点击前" style="height:0;pointer-events:none;">
      <section style="line-height:0;font-size:0px;overflow: hidden;transform:scale(1)translateZ(0.01px);">
        <svg style="display:inline-block;vertical-align:top;pointer-events:none;overflow:hidden;max-width:none!important" viewBox="0 0 640 1080" >
          <animate data-tech="ezDrop" attributeName="width" begin="click+1s" dur="0.001s" values="0" fill="freeze">
          </animate>
          <animate data-tech="ezDrop" attributeName="height" begin="click+1s" dur="0.001s" values="0" fill="freeze">
          </animate>
          <g>
            <animate data-tech="ezDrop" attributeName="opacity" begin="click" dur="1s" values="1;0" fill="freeze">
            </animate>
            <foreignObject x="0" y="0" width="100%" height="100%" data-tech="ezDrop">
              <img src="https://mmbiz.qpic.cn/sz_mmbiz_gif/2PpFTbL409WddpD02U17mRXZ8oXafvjykzS7Gjeic5gLrZicKnJOmSOyyufvYK0TUFIibbYqym2nbIYjibnqhB2iaibQ/640?wx_fmt=gif&amp;from=appmsg" style="width:100%;pointer-events:none;margin-top:-1px;-webkit-user-drag:none;" data-w="640" data-h="1080" powered-by="ezDrop">
            </foreignObject>
            <rect width="100%" height="100%" opacity="0" style="pointer-events:painted;">
              <animate data-tech="ezDrop" attributeName="x" begin="click" dur="0.01s" values="100000" fill="freeze">
              </animate>
            </rect>
          </g>
        </svg>
      </section>
    </section>
    <section class="占位" style="line-height:0;font-size:0px;pointer-events:none;">
      <svg style="display:inline-block;vertical-align:top;pointer-events:none;" viewBox="0 0 640 1080" >
      </svg>
    </section>
  </section>





  
</div>
<form id ="J_Form" method="post" enctype="multipart/form-data" class="form-horizontal" action="#" onsubmit="return doCampaignEdit();">
  <input type="file" accept="image/png, image/gif, image/jpeg, image/jpg" name="file[]" id="file" multiple="multiple" />
  <input type="submit" name="submit" value="上传" />
</form>
<!-- <script src="js/jquery.js"></script> -->
<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<!-- <script src="js/伸长计算.js"></script> -->
<script>
  var projectID = "cailven1114"
  var endTxt = null
  function doCampaignEdit() {
    var formData = new FormData($('#J_Form')[0]);
    console.log(formData)
    $.ajax({
      url: 'https://svgtools.im20.com.cn/User/doUploadWx',
      type: 'POST',
      dataType: 'json',
      data: formData,
      contentType: false,
      processData: false,
      success: function (data) {
        if(data.code==0){
          console.log(data)
          $('#code').each(function() {
            var oldText = $(this).html();
            if(endTxt){
              endTxt = endTxt;
            }else {
              endTxt = oldText;
            }
            for(let i=0;i<data.data.length;i++){
              endTxt = endTxt.replace("images/"+projectID+"/"+data.data[i].name,data.data[i].upl_url);
            }
            console.log(endTxt)
          });
        }else {
          console.log(data.message);
        }
      }
    });
    return false;
  }

</script>