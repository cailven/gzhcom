<?xml version="1.0" encoding="utf-8"?>
<div id="code">
  <section id="整体" style="line-height: 0; pointer-events: none; overflow: hidden; visibility: visible; overflow: hidden">
    <section id="伸长1" style="overflow: hidden">
      <section id="1">
        <svg id="1" style="background-image: url(&quot;images/1011bhc/1.gif&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 640 1753"></svg>
      </section>

      <section id="2" style="scroll-snap-type: x mandatory; margin-top: -0.33vw; display: flex; overflow-x: auto; overflow-y: hidden; pointer-events: painted">
        <section style="min-width: 100%; scroll-snap-align: center; flex: none; flex-direction: column">
          <svg id="2-1" style="background-image: url(&quot;images/1011bhc/2-1.gif&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 640 1331"></svg>
        </section>
        <section style="min-width: 100%; scroll-snap-align: center; flex: none; flex-direction: column">
          <svg id="2-2" style="background-image: url(&quot;images/1011bhc/2-2.gif&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 640 1331"></svg>
        </section>
      </section>

      <section id="3" style="scroll-snap-type: x mandatory; margin-top: -0.33vw; display: flex; overflow-x: auto; overflow-y: hidden; pointer-events: painted">
        <section style="min-width: 100%; scroll-snap-align: center; flex: none; flex-direction: column">
          <svg id="3-1" style="background-image: url(&quot;images/1011bhc/3-1.gif&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 640 1331"></svg>
        </section>
        <section style="min-width: 100%; scroll-snap-align: center; flex: none; flex-direction: column">
          <svg id="3-2" style="background-image: url(&quot;images/1011bhc/3-2.gif&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 640 1331"></svg>
        </section>
      </section>

      <section id="4" style="scroll-snap-type: x mandatory; margin-top: -0.33vw; display: flex; overflow-x: auto; overflow-y: hidden; pointer-events: painted">
        <section style="min-width: 100%; scroll-snap-align: center; flex: none; flex-direction: column">
          <svg id="4-1" style="background-image: url(&quot;images/1011bhc/4-1.gif&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 640 1331"></svg>
        </section>
        <section style="min-width: 100%; scroll-snap-align: center; flex: none; flex-direction: column">
          <svg id="4-2" style="background-image: url(&quot;images/1011bhc/4-2.gif&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 640 1331"></svg>
        </section>
      </section>

      <section id="5" style="scroll-snap-type: x mandatory; margin-top: -0.33vw; display: flex; overflow-x: auto; overflow-y: hidden; pointer-events: painted">
        <section style="min-width: 100%; scroll-snap-align: center; flex: none; flex-direction: column">
          <svg id="5-1" style="background-image: url(&quot;images/1011bhc/5-1.gif&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 640 1331"></svg>
        </section>
        <section style="min-width: 100%; scroll-snap-align: center; flex: none; flex-direction: column">
          <svg id="5-2" style="background-image: url(&quot;images/1011bhc/5-2.gif&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 640 1331"></svg>
        </section>
      </section>

      <section id="6">
        <svg id="6" style="background-image: url(&quot;images/1011bhc/6.png&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 1080 2115">
        </svg>
      </section>

      <section id="7">
        <svg id="7" style="background-image: url(&quot;images/1011bhc/7.png&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 1080 863">
          <g opacity="0">
            <a target="_blank" href="https://weibo.com/u/2784413480?tabtype=feed" data-linktype="2" _href="https://weibo.com/u/2784413480?tabtype=feed">
              <rect x="0" y="0" width="360" height="350" style="opacity: 0; pointer-events: painted"></rect>
            </a>
          </g>
          <g opacity="0">
            <a target="_blank" href="https://www.douyin.com/user/self" data-linktype="2" _href="https://www.douyin.com/user/self">
              <rect x="360" y="0" width="360" height="350" style="opacity:0; pointer-events: painted"></rect>
            </a>
          </g>
          <g opacity="0">
            <a target="_blank" href="https://space.bilibili.com/2118414892?spm_id_from=333.1007.0.0" data-linktype="2" _href="https://space.bilibili.com/2118414892?spm_id_from=333.1007.0.0">
              <rect x="720" y="0" width="360" height="350" style="opacity: 0; pointer-events: painted"></rect>
            </a>
          </g>
        </svg>
      </section>

      <section style="margin-top: -130px; opacity: 0;">
        <mp-common-profile  contenteditable="false" class="mpprofile js_uneditable custom_select_card mp_profile_iframe mp_common_widget" data-pluginname="mpprofile" data-id="MjM5NzY4ODA2MQ==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/tQQOibualqRwYKoV6ibPoGic6wSSicdAPNbyxD2Fz7pES3NQJgic1uVReM1DPicnjGRjffey4sYeZtMAcegaPkXFyHnQ/0?wx_fmt=png" data-nickname="康师傅冰红茶冰力十足" data-alias="kangshifubhc" data-signature="康师傅冰红茶官方账号" data-from="0" data-is_biz_ban="0">
        </mp-common-profile>

      </section>
     

    </section>
  </section>
</div>
<form id="J_Form" method="post" enctype="multipart/form-data" class="form-horizontal" action="#" onsubmit="return doCampaignEdit();">
  <input type="file" accept="image/png, image/gif, image/jpeg, image/jpg" name="file[]" id="file" multiple="multiple" />
  <input type="submit" name="submit" value="上传" />
</form>
<!-- <script src="js/jquery.js"></script> -->
<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<!-- <script src="js/伸长计算.js"></script> -->
<script>
  var projectID = "1011bhc";
  var endTxt = null;
  function doCampaignEdit() {
    var formData = new FormData($("#J_Form")[0]);
    console.log(formData);
    $.ajax({
      url: "https://svgtools.im20.com.cn/User/doUploadWx",
      type: "POST",
      dataType: "json",
      data: formData,
      contentType: false,
      processData: false,
      success: function (data) {
        if (data.code == 0) {
          console.log(data);
          $("#code").each(function () {
            var oldText = $(this).html();
            if (endTxt) {
              endTxt = endTxt;
            } else {
              endTxt = oldText;
            }
            for (let i = 0; i < data.data.length; i++) {
              endTxt = endTxt.replace("images/" + projectID + "/" + data.data[i].name, data.data[i].upl_url);
            }
            console.log(endTxt);
          });
        } else {
          console.log(data.message);
        }
      },
    });
    return false;
  }
</script>
