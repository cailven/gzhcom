<?xml version="1.0" encoding="utf-8"?>
<div id="code">
  
  <section id="整体" style="line-height: 0; pointer-events: none; overflow: hidden; visibility: visible; overflow: hidden">
    <section id="伸长1" style="overflow: hidden">
      <section id="内容层1" style="height: 0">
      
      <svg id="1" style="background-image: url(&quot;images/1121bhc/1.gif&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 640 935"></svg>
  
      <section id="test" style="display: flex; flex-direction: column;" >
        <section style="height: 0; z-index: 1;">
          <svg id="23" style="background-image: url(&quot;images/1121bhc/2-bottom.png&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 1080 1993"></svg>
        </section>
        <section style="height: 0; z-index: 3;">
          <svg id="22" style="background-image: url(&quot;images/1121bhc/2-top.png&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 1080 1993">
           
            <g  transform="translate(0 0)">
            <foreignObject x="0" y="0" width="100%" height="100%">

  <svg id="21" style="background-image: url(&quot;images/1121bhc/2-btn.png&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 1080 1993">
  </svg>
 

             
              
              
            </foreignObject>
            <animateTransform attributeName="transform" type="translate" values="0 0;-32 0;0 0" repeatCount="indefinite" begin="0" dur="1s" keyTimes="0;.8;1" calcMode="spline" keySplines=".5 0 .5 1; 0 0 1 1"></animateTransform>
          </g>
          </svg>
        </section>


        <section id="3" style=" z-index: 2;scroll-snap-type: x mandatory; margin-top: -0.33vw; display: flex; overflow-x: auto; overflow-y: hidden; pointer-events: painted">
          <section style="min-width: 100%; scroll-snap-align: center; flex: none; flex-direction: column">
            <svg id="3-1" style="background-image: url(&quot;images/1121bhc/2-1.png&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 1080 1993"></svg>
          </section>
          <section style="min-width: 100%; scroll-snap-align: center; flex: none; flex-direction: column">
            <svg id="3-2" style="background-image: url(&quot;images/1121bhc/2-2.png&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 1080 1993"></svg>
          </section>
          <section style="min-width: 100%; scroll-snap-align: center; flex: none; flex-direction: column">
            <svg id="3-3" style="background-image: url(&quot;images/1121bhc/2-3.png&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 1080 1993"></svg>
          </section>
        </section>
    
       </section>
  
      <svg id="3" style="background-image: url(&quot;images/1121bhc/3.gif&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 640 914"></svg>
        <svg id="4" style="background-image: url(&quot;images/1121bhc/4.png&quot;); background-size: 100%; background-repeat: no-repeat; margin-top: -0.33vw; line-height: 0" viewbox="0 0 1080 903">
          <g opacity="0">
            <a target="_blank" href="https://weibo.com/u/2784413480?tabtype=feed" data-linktype="2" _href="https://weibo.com/u/2784413480?tabtype=feed">
              <rect x="0" y="0" width="360" height="350" style="opacity: 0; pointer-events: painted"></rect>
            </a>
          </g>
          <g opacity="0">
            <a target="_blank" href="https://www.douyin.com/user/self" data-linktype="2" _href="https://www.douyin.com/user/self">
              <rect x="360" y="0" width="360" height="350" style="opacity:0; pointer-events: painted"></rect>
            </a>
          </g>
          <g opacity="0">
            <a target="_blank" href="https://space.bilibili.com/2118414892?spm_id_from=333.1007.0.0" data-linktype="2" _href="https://space.bilibili.com/2118414892?spm_id_from=333.1007.0.0">
              <rect x="720" y="0" width="360" height="350" style="opacity: 0; pointer-events: painted"></rect>
            </a>
          </g>
        </svg>
        <section style="margin-top: -130px; opacity: 0;">
          <mp-common-profile  contenteditable="false" class="mpprofile js_uneditable custom_select_card mp_profile_iframe mp_common_widget" data-pluginname="mpprofile" data-id="MjM5NzY4ODA2MQ==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/tQQOibualqRwYKoV6ibPoGic6wSSicdAPNbyxD2Fz7pES3NQJgic1uVReM1DPicnjGRjffey4sYeZtMAcegaPkXFyHnQ/0?wx_fmt=png" data-nickname="康师傅冰红茶冰力十足" data-alias="kangshifubhc" data-signature="康师傅冰红茶官方账号" data-from="0" data-is_biz_ban="0">
          </mp-common-profile>
  
        </section>

     </section>

      <section style="pointer-events: none; font-size: 0">
        <svg id="宽度控制1" style="max-width: none !important; background-image: url(&quot;images/1121bhc/1.gif&quot;); background-repeat: no-repeat; background-size: 100% auto" viewBox="0 0  640 935">
          <animate id="宽度动画1" attributeName="width" fill="freeze" calcMode="spline" keySplines="0.42 0 0.58 1;0.42 0 0.58 1" restart="never" keyTimes="0;0.002;1" values="100%;383%;383%" dur="1000s" begin="click+0.5s"></animate>
          <animate attributeName="opacity" begin="click+0s" restart="never" dur="500s" keyTimes="0;0.00000001;1" values="1;0;0" fill="freeze"></animate>
            <rect style="pointer-events: visible" width="100%" height="100%" fill="#000000" opacity="0">
              <set attributeName="visibility" from="visible" to="hidden" begin="click"></set>
            </rect>
          </g>
        </svg>
      </section>

     
    </section>
  </section>
</div>
<form id="J_Form" method="post" enctype="multipart/form-data" class="form-horizontal" action="#" onsubmit="return doCampaignEdit();">
  <input type="file" accept="image/png, image/gif, image/jpeg, image/jpg" name="file[]" id="file" multiple="multiple" />
  <input type="submit" name="submit" value="上传" />
</form>
<!-- <script src="js/jquery.js"></script> -->
<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<!-- <script src="js/伸长计算.js"></script> -->
<script>
  var projectID = "1121bhc";
  var endTxt = null;
  function doCampaignEdit() {
    var formData = new FormData($("#J_Form")[0]);
    console.log(formData);
    $.ajax({
      url: "https://svgtools.im20.com.cn/User/doUploadWx",
      type: "POST",
      dataType: "json",
      data: formData,
      contentType: false,
      processData: false,
      success: function (data) {
        if (data.code == 0) {
          console.log(data);
          $("#code").each(function () {
            var oldText = $(this).html();
            if (endTxt) {
              endTxt = endTxt;
            } else {
              endTxt = oldText;
            }
            for (let i = 0; i < data.data.length; i++) {
              endTxt = endTxt.replace("images/" + projectID + "/" + data.data[i].name, data.data[i].upl_url);
            }
            console.log(endTxt);
          });
        } else {
          console.log(data.message);
        }
      },
    });
    return false;
  }
</script>
